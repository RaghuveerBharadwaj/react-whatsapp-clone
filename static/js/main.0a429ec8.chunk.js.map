{"version":3,"sources":["../node_modules/moment-mini/locale sync /^/.//.*$","assets/logo.png","chat/Chat.jsx","register/Register.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Chat","messages","setMessages","userData","JSON","parse","localStorage","getItem","useState","input","setInput","useEffect","setTimeout","divElement","document","getElementById","scrollTo","top","scrollHeight","behavior","axios","get","process","then","res","data","catch","err","console","error","className","src","Logo","alt","mess","userId","xmlns","viewBox","width","height","opacity","fill","d","sent","name","message","moment","timeStamp","format","_id","rows","placeholder","onChange","target","value","onKeyUp","keyCode","which","post","Date","Register","userName","setUserName","autoFocus","key","user","uniqid","setItem","stringify","window","location","reload","App","setUser","channel","Pusher","cluster","subscribe","bind","dataInserted","unbind","msgs","_","cloneDeep","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"qLAAA,IAAIA,EAAM,CACT,WAAY,GACZ,cAAe,IAIhB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,I,iNCvBL,MAA0B,iC,OC2E1BY,EArEF,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YAClBC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,aADP,EAEhBC,mBAAS,IAFO,mBAEnCC,EAFmC,KAE5BC,EAF4B,KAI1CC,qBAAU,WACRC,YAAW,WACT,IAAMC,EAAaC,SAASC,eAAe,aAC3CF,EAAWG,SAAS,CAClBC,IAAKJ,EAAWK,aAChBC,SAAU,aAEX,KAEHC,IACGC,IADH,UACUC,4CADV,mBAEGC,MAAK,SAAAC,GAAG,OAAItB,EAAYsB,EAAIC,SAC5BC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,QAE7B,IAiBH,OACE,sBAAKG,UAAU,OAAf,UACE,sBAAKA,UAAU,SAAf,UACE,qBAAKC,IAAKC,EAAMC,IAAI,wBADtB,4BAGA,qBAAKH,UAAU,YAAY1C,GAAG,YAA9B,SACGa,EAAShB,KAAI,SAAAiD,GAAI,OAChB,sBAAoBJ,UAAS,wBAA0B,OAAR3B,QAAQ,IAARA,OAAA,EAAAA,EAAUgC,UAAWD,EAAKC,QAAU,QAAnF,UACE,sBAAKL,UAAU,QAAQM,MAAM,6BAA6BC,QAAQ,WAAWC,MAAM,IAAIC,OAAO,KAA9F,UAAmG,sBAAMC,QAAQ,MAAMC,KAAK,WAAWC,EAAE,kEAAuE,sBAAMD,KAAK,eAAeC,EAAE,sEAC1OR,EAAKS,MAAQ,uBAAOb,UAAU,SAAjB,SACZI,EAAKU,OAER,mBAAGd,UAAU,UAAb,SACGI,EAAKW,UAER,mBAAGf,UAAU,YAAb,SACGgB,IAAOZ,EAAKa,WAAWC,OAAO,4BATzBd,EAAKe,UAcnB,qBAAKnB,UAAU,SAAf,SACE,0BACEoB,KAAM,EACNC,YAAY,0BACZC,SAAU,SAAC5D,GAAD,OAAOkB,EAASlB,EAAE6D,OAAOC,QACnCA,MAAO7C,EACP8C,QA1Ca,SAAC/D,GAGR,MAFAA,EAAEgE,SAAWhE,EAAEiE,SAGzBrC,IACGsC,KADH,UACWpC,4CADX,4CAEOnB,GAFP,IAGI4C,UAAW,IAAIY,KACfd,QAASpC,KAEViB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,MAC9BjB,EAAS,c,iBCGAkD,G,MApCE,WAAO,IAAD,EAEWpD,mBAAS,IAFpB,mBAEdqD,EAFc,KAEJC,EAFI,KAmBrB,OACE,sBAAKhC,UAAU,WAAf,UACE,2DAC4B,uBAC1B,6EAEF,uBACEiC,WAAS,EACTnB,KAAK,WACLQ,SAAU,SAAC5D,GAAD,OAAOsE,EAAYtE,EAAE6D,OAAOC,QACtCA,MAAOO,EACPN,QA1Be,SAAC/D,GACpB,IAAMwE,EAAMxE,EAAEgE,SAAWhE,EAAEiE,MAE3B,GAAKI,GAEO,KAARG,EAAY,CACd,IAAMC,EAAO,CACXrB,KAAMiB,EACN1B,OAAQ+B,OAEV5D,aAAa6D,QAAQ,WAAY/D,KAAKgE,UAAUH,IAChDI,OAAOC,SAASC,kBCiCPC,MA7Cf,WAAgB,IAAD,EAEWhE,mBAAS,IAFpB,mBAENyD,EAFM,KAEAQ,EAFA,OAGmBjE,mBAAS,IAH5B,mBAGNP,EAHM,KAGIC,EAHJ,KAKbS,qBAAU,WACR,IAAMR,EAAWG,aAAaC,QAAQ,YACjCJ,EAGHsE,EAAQrE,KAAKC,MAAMF,IAFnBG,aAAa6D,QAAQ,WAAY/D,KAAKgE,UAAUH,IAKlD,IAIMS,EAJS,IAAIC,IAAOrD,uBAA8B,CACtDsD,QAAS,QAGYC,UAAU,YAEjC,OADAH,EAAQI,KAAK,WAAYC,GAClB,WACLL,EAAQM,YAET,IAEH,IAAMD,EAAe,SAACtD,GACpBvB,GAAY,SAAA+E,GAAI,OAAIC,IAAEC,UAAF,sBAAgBD,IAAEC,UAAUF,IAA5B,CAAmCxD,QACvD,IAAMZ,EAAaC,SAASC,eAAe,aACvCF,GACFA,EAAWG,SAAS,CAClBC,IAAKJ,EAAWK,aAChBC,SAAU,YAKhB,OACE,qBAAKW,UAAU,MAAf,UACO,OAAJmC,QAAI,IAAJA,OAAA,EAAAA,EAAM9B,QAAS,cAAC,EAAD,CACdlC,SAAUA,EACVC,YAAaA,IACV,cAAC,EAAD,OCnCIkF,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/D,MAAK,YAAkD,IAA/CgE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFhF,SAASC,eAAe,SAM1BqE,M","file":"static/js/main.0a429ec8.chunk.js","sourcesContent":["var map = {\n\t\"./locale\": 20,\n\t\"./locale.js\": 20\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 51;","export default __webpack_public_path__ + \"static/media/logo.949b4e0b.png\";","import './Chat.scss'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport moment from 'moment-mini'\nimport Logo from '../assets/logo.png'\n\nconst Chat = ({ messages, setMessages }) => {\n  const userData = JSON.parse(localStorage.getItem(\"userData\"))\n  const [input, setInput] = useState(\"\")\n\n  useEffect(() => {\n    setTimeout(() => {\n      const divElement = document.getElementById(\"chat_body\")\n      divElement.scrollTo({\n        top: divElement.scrollHeight,\n        behavior: 'smooth'\n      })\n    }, 300)\n\n    axios\n      .get(`${process.env.REACT_APP_BASE_URL}/messages/sync`)\n      .then(res => setMessages(res.data))\n      .catch(err => console.error(err))\n\n  }, [])\n\n  const onEnterClick = (e) => {\n    const key = e.keyCode || e.which\n\n    if (key === 13) {\n      axios\n        .post(`${process.env.REACT_APP_BASE_URL}/messages/new`, {\n          ...userData,\n          timeStamp: new Date(),\n          message: input\n        })\n        .catch(err => console.error(err))\n      setInput(\"\")\n    }\n  }\n\n  return (\n    <div className=\"chat\">\n      <div className=\"header\">\n        <img src={Logo} alt=\"Raghuveer Bharadwaj\" /> Raghuveer's Chat Room\n      </div>\n      <div className=\"chat_body\" id=\"chat_body\">\n        {messages.map(mess => (\n          <div key={mess._id} className={`message_body ${userData?.userId === mess.userId && 'sent'}`}>\n            <svg className=\"arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8 13\" width=\"8\" height=\"13\"><path opacity=\".13\" fill=\"#0000000\" d=\"M1.533 3.568L8 12.193V1H2.812C1.042 1 .474 2.156 1.533 3.568z\"></path><path fill=\"currentColor\" d=\"M1.533 2.568L8 11.193V0H2.812C1.042 0 .474 1.156 1.533 2.568z\"></path></svg>\n            {!mess.sent && <small className=\"sender\">\n              {mess.name}\n            </small>}\n            <p className=\"message\">\n              {mess.message}\n            </p>\n            <p className=\"timestamp\">\n              {moment(mess.timeStamp).format(\"DD MMM YYYY, hh:mm A\")}\n            </p>\n          </div>\n        ))}\n      </div>\n      <div className=\"footer\">\n        <textarea\n          rows={1}\n          placeholder=\"Enter your message here\"\n          onChange={(e) => setInput(e.target.value)}\n          value={input}\n          onKeyUp={onEnterClick}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Chat\n","import { useState } from 'react'\nimport uniqid from 'uniqid'\nimport './Register.scss'\n\nconst Register = () => {\n\n  const [userName, setUserName] = useState(\"\")\n\n  const onEnterClick = (e) => {\n    const key = e.keyCode || e.which\n\n    if (!userName) return\n\n    if (key === 13) {\n      const user = {\n        name: userName,\n        userId: uniqid()\n      }\n      localStorage.setItem(\"userData\", JSON.stringify(user))\n      window.location.reload()\n    }\n  }\n\n  return (\n    <div className=\"register\">\n      <p>\n        Welcome to the Chat Room! <br />\n        <small>Enter your Pen Name and press enter!!</small>\n      </p>\n      <input\n        autoFocus\n        name=\"register\"\n        onChange={(e) => setUserName(e.target.value)}\n        value={userName}\n        onKeyUp={onEnterClick}\n      />\n    </div>\n  )\n}\n\nexport default Register\n","import { useEffect, useState } from 'react'\nimport _ from 'lodash'\nimport Pusher from 'pusher-js'\nimport './App.css'\nimport Chat from './chat/Chat'\nimport Register from './register/Register'\n\nfunction App() {\n\n  const [user, setUser] = useState({})\n  const [messages, setMessages] = useState([])\n\n  useEffect(() => {\n    const userData = localStorage.getItem(\"userData\")\n    if (!userData) {\n      localStorage.setItem(\"userData\", JSON.stringify(user))\n    } else {\n      setUser(JSON.parse(userData))\n    }\n\n    const pusher = new Pusher(process.env.REACT_APP_PUSHER, {\n      cluster: 'ap2'\n    })\n\n    const channel = pusher.subscribe('messages')\n    channel.bind('inserted', dataInserted)\n    return () => {\n      channel.unbind()\n    }\n  }, [])\n\n  const dataInserted = (data) => {\n    setMessages(msgs => _.cloneDeep([..._.cloneDeep(msgs), data]))\n    const divElement = document.getElementById(\"chat_body\")\n    if (divElement) {\n      divElement.scrollTo({\n        top: divElement.scrollHeight,\n        behavior: 'smooth'\n      })\n    }\n  }\n\n  return (\n    <div className=\"app\">\n      {user?.userId ? <Chat \n        messages={messages}\n        setMessages={setMessages}\n      /> : <Register />}\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}